{"version":3,"sources":["all.js"],"names":["colorPrimary","objFieldNameArr","id","name","objFieldName","data","init","axios","get","then","response","console","log","renderData","area","tripArea","document","querySelector","innerHTML","cnt","forEach","item","getOneSet","searchResult","innerText","value","onchange_slcSearch","slcSearch","AddOneSet","newDataObj","PassFlag","input","Swal","fire","title","text","icon","confirmButtonColor","isNaN","parseFloat","length","push","clearAddPanel","obj","rtnStr","getImgArea","getInfoArea","imgUrl","rate","description","getInfoAreaFooter","getInfoAreaRemain","getInfoAreaPrice","group","toCurrency","price","num","toString","replace"],"mappings":"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","file":"all.js","sourcesContent":["const colorPrimary = \"#00807E\";\n\nconst objFieldNameArr = [\n  {\n    id: \"txtName\",\n    name: \"套票名稱\",\n    objFieldName: \"name\"\n  },\n  {\n    id: \"txtImgUrl\",\n    name: \"圖片網址\",\n    objFieldName:\"imgUrl\"\n  },\n  {\n    id: \"slcArea\",\n    name: \"景點地區\",\n    objFieldName:\"area\"\n  },\n  {\n    id: \"txtPrice\",\n    name: \"套票金額\",\n    objFieldName:\"price\"\n  },\n  {\n    id: \"txtGroup\",\n    name: \"套票組數\",\n    objFieldName:\"group\"\n  },\n  {\n    id: \"txtRate\",\n    name: \"套票星級\",\n    objFieldName:\"rate\"\n  },\n  {\n    id: \"txtDesc\",\n    name: \"套票描述\",\n    objFieldName:\"description\"\n  }\n];\n\n// let data = [\n//   {\n//     \"id\": 0,\n//     \"name\": \"肥宅心碎賞櫻3日\",\n//     \"imgUrl\": \"https://images.unsplash.com/photo-1522383225653-ed111181a951?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1655&q=80\",\n//     \"area\": \"高雄\",\n//     \"description\": \"賞櫻花最佳去處。肥宅不得不去的超讚景點！\",\n//     \"group\": 87,\n//     \"price\": 1400,\n//     \"rate\": 10\n//   },\n//   {\n//     \"id\": 1,\n//     \"name\": \"貓空纜車雙程票\",\n//     \"imgUrl\": \"https://images.unsplash.com/photo-1501393152198-34b240415948?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80\",\n//     \"area\": \"台北\",\n//     \"description\": \"乘坐以透明強化玻璃為地板的「貓纜之眼」水晶車廂，享受騰雲駕霧遨遊天際之感\",\n//     \"group\": 99,\n//     \"price\": 240,\n//     \"rate\": 2\n//   },\n//   {\n//     \"id\": 2,\n//     \"name\": \"台中谷關溫泉會1日\",\n//     \"imgUrl\": \"https://images.unsplash.com/photo-1535530992830-e25d07cfa780?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80\",\n//     \"area\": \"台中\",\n//     \"description\": \"全館客房均提供谷關無色無味之優質碳酸原湯，並取用八仙山之山冷泉供蒞臨貴賓沐浴及飲水使用。\",\n//     \"group\": 20,\n//     \"price\": 1765,\n//     \"rate\": 7\n//   }\n// ];\n\nlet data=[];\n\ninit();\n\nfunction init()\n{\n  axios.get('https://raw.githubusercontent.com/hexschool/js-training/main/travelApi.json')\n  .then(function (response) {\n    console.log(response);\n    data = response.data.data;\n    renderData(\"\");\n  });\n\n}\n\nfunction renderData(area)\n{\n  let tripArea = document.querySelector('.trip-area');\n  tripArea.innerHTML = \"\";\n\n  let cnt = 0;\n  data.forEach(function(item){\n    if(area==\"\")\n    {\n      tripArea.innerHTML+=getOneSet(item);\n      cnt++;\n    }else if (area == item.area) {\n      tripArea.innerHTML+=getOneSet(item);\n      cnt++;\n    }      \n  });\n\n  let searchResult = document.querySelector('#searchResult');\n  searchResult.innerText = cnt;\n\n  if(area == \"\")\n    document.querySelector('#slcSearch').value = \"所有\";\n  \n}\n\n\n\nfunction onchange_slcSearch()\n{\n  let slcSearch = document.querySelector('#slcSearch');\n  renderData(slcSearch.value == \"所有\" ? \"\" : slcSearch.value);  \n}\n\nfunction AddOneSet()\n{\n  let newDataObj = {};\n  let PassFlag = true;\n\n  objFieldNameArr.forEach(function(item){\n    if(PassFlag)\n    {\n      let input = document.querySelector(`#${item.id}`);\n      if(!input.value)\n      {\n        Swal.fire({\n          title: '資料不完整！',\n          text:  `${item.name}沒有填寫！`,\n          icon: 'error',\n          confirmButtonColor: colorPrimary\n        })      \n        PassFlag = false;\n      }\n\n      if(PassFlag)\n        switch(item.id)\n        {\n          case \"txtPrice\":\n          case \"txtGroup\":\n          case \"txtRate\":\n            if(isNaN(parseFloat(input.value)))\n            {\n              Swal.fire({\n                title: '資料有誤！',\n                text:  `${item.name}只能填數字`,\n                icon: 'error',\n                confirmButtonColor: colorPrimary\n              })      \n              PassFlag = false;\n            }\n            break;\n          case \"txtDesc\":\n            if(input.value.length>100)\n            {\n              Swal.fire({\n                title: '資料有誤！',\n                text:  `${item.name}填寫長度請勿超過100`,\n                icon: 'error',\n                confirmButtonColor: colorPrimary\n              })      \n              PassFlag = false;\n            }\n            break;\n          default:\n            break;\n        }\n\n      newDataObj[item.objFieldName] = input.value;\n    } \n  });\n\n  if(PassFlag){\n    newDataObj.id = data.length;\n    data.push(newDataObj);\n\n    Swal.fire({\n      title: '新增成功！',\n      text: \"\",\n      icon: 'success',\n      confirmButtonColor: colorPrimary\n    })\n\n    renderData(\"\");\n    clearAddPanel();\n\n  } \n}\n\nfunction clearAddPanel()\n{\n  objFieldNameArr.forEach(function(item){\n    \n      let input = document.querySelector(`#${item.id}`);\n      input.value = \"\";\n    \n  });\n}\n\nfunction getOneSet(obj)\n{\n  let rtnStr = \"\";\n  rtnStr += '<li class=\"trip-item shadow\">';\n\n  rtnStr += getImgArea(obj);\n  rtnStr += getInfoArea(obj);\n\n  rtnStr += '</li>';\n  return rtnStr;\n}\n\nfunction getImgArea(obj)\n{\n  let rtnStr = \"\";\n  rtnStr += '<div class=\"trip-item-img-area\">';\n  rtnStr += `<img src=\"${obj.imgUrl}\" alt=\"\">`;\n  rtnStr += `<div class=\"trip-item-location\">${obj.area}</div>`;\n  rtnStr += `<div class=\"trip-item-rate\">${obj.rate}</div>`;\n  rtnStr += '</div>';\n  return rtnStr;\n}\n\nfunction getInfoArea(obj)\n{\n  let rtnStr = \"\";\n  rtnStr += '<div class=\"trip-item-info-area\">';\n\n  rtnStr += '<div>';\n  rtnStr += `<h4>${obj.name}</h4>`;\n  rtnStr += `<p>${obj.description}</p>`;\n  rtnStr += '</div>';\n\n  rtnStr += getInfoAreaFooter(obj);\n\n  rtnStr += '</div>';\n  return rtnStr;\n}\n\nfunction getInfoAreaFooter(obj)\n{\n  let rtnStr = \"\";\n  rtnStr += '<div class=\"d-flex justify-content-between\">';\n  rtnStr += getInfoAreaRemain(obj);\n  rtnStr += getInfoAreaPrice(obj);\n  rtnStr += '</div>';\n  return rtnStr;\n}\n\nfunction getInfoAreaRemain(obj)\n{\n  let rtnStr = \"\";\n  rtnStr += '<div class=\"d-flex align-items-center\">';\n  rtnStr += '<span class=\"material-symbols-outlined me-1\">error</span>';\n  rtnStr += `剩下最後 ${obj.group} 組`;\n  rtnStr += '</div>';\n  return rtnStr;\n}\n\nfunction getInfoAreaPrice(obj)\n{\n  let rtnStr = \"\";\n  rtnStr += '<div class=\"d-flex align-items-center\">';\n  rtnStr += '<span class=\"fs-6 me-1\">TWD</span>';\n  rtnStr += `<span class=\"fs-2\">$${toCurrency(obj.price)}</span>`;\n  rtnStr += '</div>';\n  return rtnStr;\n}\n\nfunction toCurrency(num){\n  return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n}"]}